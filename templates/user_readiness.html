{% extends "base.html" %}

{% block title %}Nutzerbereitschaft - effic.io{% endblock %}

{% block additional_head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='step-navigation.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='user-readiness-enhanced.css') }}">
    <script src="{{ url_for('static', filename='step-navigation.js') }}" defer></script>
    <script src="{{ url_for('static', filename='user-readiness-enhanced.js') }}" defer></script>
{% endblock %}

{% block content %}
<div class="user-readiness-container">
    <div class="technik-header">
        <div class="technik-header-content">
            <div class="technik-header-text">
                <h2>Nutzerbereitschafts-Bewertung</h2>
                <p class="technik-description">‚ú® "Wie bereit ist Ihr Team, diese Technologie in der Praxis einzusetzen?"</p>
            </div>
        </div>
    </div>
    
    <!-- Progress Indicator -->
    <div class="progress-section">
        <div class="progress-bar">
            <div class="progress-fill"></div>
        </div>
        <div class="progress-text">0 von 6 Fragen beantwortet</div>
    </div>
    
    <form id="userReadinessForm" action="{{ url_for('process_user_readiness') }}" method="POST">
        <!-- Group 1: Technologiewahrnehmung -->
        <div id="group1" class="question-group active">
            <div class="group-header">
                <div class="group-icon">üß†</div>
                <div class="group-title">
                    <h3>Technologiewahrnehmung</h3>
                    <p class="group-subtitle">Wie nehmen die Nutzer die Technologie wahr?</p>
                </div>
                <div class="group-status">‚úì</div>
            </div>
            <!-- Question 1: Leistungserwartung -->
            <div class="question-item">
                <div class="question-header">
                    <div class="question-icon">‚ö°</div>
                    <div class="question-content">
                        <h4>1. Leistungserwartung</h4>
                        <p>Nehmen die Nutzer die Technologie als n√ºtzlich f√ºr ihre komplexen Aufgaben wahr?</p>
                    </div>
                </div>
                <div class="answer-buttons">
                    <button type="button" class="answer-button positive" data-question="performance_expectancy" data-value="yes" data-icon="‚úì" tabindex="0">
                        <input type="radio" name="performance_expectancy" value="yes" required>
                        Ja
                    </button>
                    <button type="button" class="answer-button partial" data-question="performance_expectancy" data-value="partially" data-icon="‚âà" tabindex="0">
                        <input type="radio" name="performance_expectancy" value="partially">
                        Teilweise
                    </button>
                    <button type="button" class="answer-button negative" data-question="performance_expectancy" data-value="no" data-icon="‚úó" tabindex="0">
                        <input type="radio" name="performance_expectancy" value="no">
                        Nein
                    </button>
                </div>
            </div>
                
            <!-- Question 2: Aufwandserwartung -->
            <div class="question-item">
                <div class="question-header">
                    <div class="question-icon">üéØ</div>
                    <div class="question-content">
                        <h4>2. Aufwandserwartung</h4>
                        <p>K√∂nnen Nutzer Aufgaben erledigen, ohne Hilfe zu ben√∂tigen?</p>
                    </div>
                </div>
                <div class="answer-buttons">
                    <button type="button" class="answer-button positive" data-question="effort_expectancy" data-value="yes" data-icon="‚úì" tabindex="0">
                        <input type="radio" name="effort_expectancy" value="yes" required>
                        Ja
                    </button>
                    <button type="button" class="answer-button partial" data-question="effort_expectancy" data-value="partially" data-icon="‚âà" tabindex="0">
                        <input type="radio" name="effort_expectancy" value="partially">
                        Teilweise
                    </button>
                    <button type="button" class="answer-button negative" data-question="effort_expectancy" data-value="no" data-icon="‚úó" tabindex="0">
                        <input type="radio" name="effort_expectancy" value="no">
                        Nein
                    </button>
                </div>
            </div>
                
            <!-- Question 3: Sozialer Einfluss -->
            <div class="question-item">
                <div class="question-header">
                    <div class="question-icon">üë•</div>
                    <div class="question-content">
                        <h4>3. Sozialer Einfluss</h4>
                        <p>Unterst√ºtzen oder empfehlen Kollegen oder F√ºhrungskr√§fte aktiv die Nutzung?</p>
                    </div>
                </div>
                <div class="answer-buttons">
                    <button type="button" class="answer-button positive" data-question="social_influence" data-value="yes" data-icon="‚úì" tabindex="0">
                        <input type="radio" name="social_influence" value="yes" required>
                        Ja
                    </button>
                    <button type="button" class="answer-button partial" data-question="social_influence" data-value="partially" data-icon="‚âà" tabindex="0">
                        <input type="radio" name="social_influence" value="partially">
                        Teilweise
                    </button>
                    <button type="button" class="answer-button negative" data-question="social_influence" data-value="no" data-icon="‚úó" tabindex="0">
                        <input type="radio" name="social_influence" value="no">
                        Nein
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Continue to Group 2 Button -->
        <div class="group-navigation">
            <button type="button" id="continueToGroup2" class="continue-button">
                Weiter zu organisatorischen Bedingungen ‚Üí
            </button>
        </div>
        
        <!-- Group 2: Organisationale Bedingungen -->
        <div id="group2" class="question-group disabled" style="display: none;">
            <div class="group-header">
                <div class="group-icon">üè¢</div>
                <div class="group-title">
                    <h3>Organisationale Bedingungen</h3>
                    <p class="group-subtitle">Wie unterst√ºtzt die Organisation die Technologienutzung?</p>
                </div>
                <div class="group-status">‚úì</div>
            </div>
                
            <!-- Question 4: Unterst√ºtzende Bedingungen -->
            <div class="question-item">
                <div class="question-header">
                    <div class="question-icon">üõ†Ô∏è</div>
                    <div class="question-content">
                        <h4>4. Unterst√ºtzende Bedingungen</h4>
                        <p>Sind Einarbeitung, Support und IT-Infrastruktur verf√ºgbar und werden genutzt?</p>
                    </div>
                </div>
                <div class="answer-buttons">
                    <button type="button" class="answer-button positive" data-question="facilitating_conditions" data-value="yes" data-icon="‚úì" tabindex="0">
                        <input type="radio" name="facilitating_conditions" value="yes" required>
                        Ja
                    </button>
                    <button type="button" class="answer-button partial" data-question="facilitating_conditions" data-value="partially" data-icon="‚âà" tabindex="0">
                        <input type="radio" name="facilitating_conditions" value="partially">
                        Teilweise
                    </button>
                    <button type="button" class="answer-button negative" data-question="facilitating_conditions" data-value="no" data-icon="‚úó" tabindex="0">
                        <input type="radio" name="facilitating_conditions" value="no">
                        Nein
                    </button>
                </div>
            </div>
                
            <!-- Question 5: Vertrauen in Technologie -->
            <div class="question-item">
                <div class="question-header">
                    <div class="question-icon">üîí</div>
                    <div class="question-content">
                        <h4>5. Vertrauen in Technologie</h4>
                        <p>W√ºrden Nutzer dem System in einer kritischen Arbeitssituation vertrauen?</p>
                    </div>
                </div>
                <div class="answer-buttons">
                    <button type="button" class="answer-button positive" data-question="trust_in_tech" data-value="yes" data-icon="‚úì" tabindex="0">
                        <input type="radio" name="trust_in_tech" value="yes" required>
                        Ja
                    </button>
                    <button type="button" class="answer-button partial" data-question="trust_in_tech" data-value="partially" data-icon="‚âà" tabindex="0">
                        <input type="radio" name="trust_in_tech" value="partially">
                        Teilweise
                    </button>
                    <button type="button" class="answer-button negative" data-question="trust_in_tech" data-value="no" data-icon="‚úó" tabindex="0">
                        <input type="radio" name="trust_in_tech" value="no">
                        Nein
                    </button>
                </div>
            </div>
                
            <!-- Question 6: Wahrgenommene Bedrohung -->
            <div class="question-item">
                <div class="question-header">
                    <div class="question-icon">‚ö†Ô∏è</div>
                    <div class="question-content">
                        <h4>6. Wahrgenommene Bedrohung</h4>
                        <p>Gibt es sp√ºrbaren Widerstand, Angst oder Fluktuation durch die Technologie?</p>
                    </div>
                </div>
                <div class="answer-buttons">
                    <button type="button" class="answer-button negative" data-question="perceived_threat" data-value="yes" data-icon="‚úó" tabindex="0">
                        <input type="radio" name="perceived_threat" value="yes" required>
                        Ja
                    </button>
                    <button type="button" class="answer-button partial" data-question="perceived_threat" data-value="partially" data-icon="‚âà" tabindex="0">
                        <input type="radio" name="perceived_threat" value="partially">
                        Teilweise
                    </button>
                    <button type="button" class="answer-button positive" data-question="perceived_threat" data-value="no" data-icon="‚úì" tabindex="0">
                        <input type="radio" name="perceived_threat" value="no">
                        Nein
                    </button>
                </div>
            </div>
        </div>
                
        <!-- Final Navigation -->
        <div class="final-navigation">
            <a href="{{ url_for('technik_bewertung') }}" class="back-button">
                ‚Üê Zur√ºck zur Technik-Bewertung
            </a>
            <button type="submit" id="submitAssessment" class="submit-button" onclick="if(window.stepNavigationManager) window.stepNavigationManager.navigateForward('/result')">
                <span>üöÄ</span> Zum effic.io Score ‚Üí
            </button>
        </div>
    </form>
</div>

<style>
    .all-questions {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
    
    .question-item {
        margin-bottom: 10px;
    }
    
    .navigation-buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
    }
    
    .back-button {
        background-color: #f0f0f0;
        color: #333;
        text-decoration: none;
        padding: 10px 20px;
        border-radius: 4px;
        display: inline-block;
    }
    
    /* Using global next-button style instead of custom submit-button style */
</style>
{% endblock %}